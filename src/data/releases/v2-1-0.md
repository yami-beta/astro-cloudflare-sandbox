---
title: "バージョン 2.1.0 - Server Output機能の強化"
version: "2.1.0"
date: 2025-09-15
category: "minor"
breaking: false
features:
  [
    "Server Output版での未公開リリース自動制御",
    "Content Collections APIの拡張",
    "パフォーマンスモニタリング機能",
    "新しいテーマシステム",
    "国際化（i18n）サポート",
  ]
fixes:
  [
    "キャッシュ無効化の問題を修正",
    "特定条件下でのレンダリングエラーを解消",
    "アクセシビリティの改善",
  ]
deprecated: ["レガシーテーマAPI", "旧形式の設定ファイル"]
---

# バージョン 2.1.0

今回のマイナーアップデートでは、Server Output機能の強化と開発者体験の向上に焦点を当てました。

## 🎉 新機能

### Server Output版での未公開リリース自動制御

リリースノートに設定された公開日時に基づいて、自動的にコンテンツの公開/非公開を制御できるようになりました。これにより、リリース情報を事前に準備しておき、指定した日時に自動公開することが可能です。

```javascript
// リリース日が未来の場合は自動的に非表示
const now = new Date();
const publishedReleases = releases.filter(
  (release) => release.data.date <= now,
);
```

### Content Collections APIの拡張

Content Collections APIに新しい機能が追加されました：

- **動的フィルタリング**: リクエスト時のパラメータに基づくフィルタリング
- **リアルタイム検証**: Zodスキーマによる実行時検証の強化
- **カスタムローダー**: 外部データソースからのコンテンツ取得

### パフォーマンスモニタリング機能

ビルトインのパフォーマンスモニタリングツールを追加しました：

- ページロード時間の計測
- Core Web Vitalsの追跡
- リアルタイムダッシュボード

### 新しいテーマシステム

より柔軟なテーマカスタマイズが可能になりました：

- CSS変数ベースのテーマ設定
- ダークモード/ライトモードの自動切り替え
- カスタムテーマの作成と共有

### 国際化（i18n）サポート

多言語サイトの構築がより簡単になりました：

- 自動ルーティング生成
- 言語切り替えコンポーネント
- RTL言語のサポート

## 🐛 修正

### キャッシュ無効化の問題

静的アセットのキャッシュが適切に無効化されない問題を修正しました。これにより、デプロイ後の更新がすぐに反映されるようになります。

### レンダリングエラーの解消

特定の条件下で発生していたSSRレンダリングエラーを修正：

- 非同期コンポーネントの処理改善
- エラーバウンダリーの強化
- メモリリークの防止

### アクセシビリティの改善

- スクリーンリーダー対応の強化
- キーボードナビゲーションの改善
- ARIA属性の自動付与

## ⚠️ 非推奨機能

以下の機能は将来のバージョンで削除される予定です：

### レガシーテーマAPI

新しいテーマシステムへの移行をお願いします：

```javascript
// 非推奨
export const theme = {
  colors: { primary: "#000" },
};

// 推奨
export const theme = {
  tokens: {
    colors: { primary: "#000" },
  },
};
```

### 旧形式の設定ファイル

`astro.config.mjs`の新しい形式への移行が必要です。

## 📊 パフォーマンス向上

- ビルド時間: 25%短縮
- 初回ページロード: 30%高速化
- メモリ使用量: 20%削減

## 🔄 マイグレーションガイド

### 1. 依存関係の更新

```bash
npm install astro@2.1.0
```

### 2. 設定ファイルの更新

新しいテーマシステムを使用する場合は、設定ファイルを更新してください。

### 3. 非推奨APIの置き換え

非推奨となったAPIを使用している場合は、新しいAPIに移行してください。

詳細なマイグレーションガイドは[公式ドキュメント](https://docs.example.com/migration-v2-1)をご覧ください。

## 🙏 謝辞

このリリースに貢献してくださったすべてのコントリビューターの皆様に感謝いたします。
